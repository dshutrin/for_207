{% extends "main_app/admin_base.html" %}
{% load static %}

{% block content %}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h1 class="h2">Общие сведения</h1>
</div>

<canvas class="my-4 w-100" id="myChart" width="1035" height="437" style="display: block; box-sizing: border-box; height: 349px; width: 828px;"></canvas>

<h2>Список по популярности</h2>
<div class="table-responsive small mb-5">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th scope="col">Номер стола</th>
        <th scope="col">ФИО сотрудника</th>
        <th scope="col">Положительные оценки</th>
        <th scope="col">Отрицательные оценки</th>
      </tr>
    </thead>
    <tbody>
      {% for table in tables %}
      <tr>
        <td>{{table.number}}</td>
        {% if table.user %}
          <td>{{table.user}}</td>
          <td>{{table.user.likes}}</td>
          <td>{{table.user.dislikes}}</td>
        {% else %}
          <td>Не назначен</td>
          <td>-</td>
          <td>-</td>
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
